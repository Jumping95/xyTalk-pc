<H1>XyTalk-pc 企业协作通讯系统</H1>

Xy.Platform is A High Performance and Scalable Platform for enterprise communication and collaboration.
<br>Xy.Platform是一个高性能、可扩展的企业通信和协作平台。包含通讯服务（XMPP协议）、客户端（PC、Android、iOS）、Web门户（用于集成企业应用）、WebAPI（用于企业扩展调用）。
<br>
<p>
XyTalk.pc is Windows/linux/Mac XMPP instant messaging PC client software.
<br>
XyTalk.pc是XMPP协议的即时通讯IM客户端PC软件，可用于Windows/linux/Mac.
<br>
联系邮箱：475660@qq.com
<br>
联系微信：wx13710637136
<p>

<p>
<H2>## 特性   ##</H2>
 <TABLE width="100%">
    <TR>
	<TD width="25%"><img alt="XyTalk IM" src="http://111.230.157.216/img/im_64.png" width="64" height="64" /></TD>
	<TD width="25%"><img alt="XyTalk IM" src="http://111.230.157.216/img/muc-64.png" width="64" height="64" /></TD>
	<TD width="25%"><img alt="XyTalk IM" src="http://111.230.157.216/img/portal-64.png" width="64" height="64" /></TD>
	<TD width="25%"><img alt="XyTalk IM" src="http://111.230.157.216/img/api-64.png" width="64" height="64" /></TD>
  </TR>
  <TR>
	<TD><H3>XyTalk IM</H3></TD>
	<TD><H3>XyTalk MUC</H3></TD>
	<TD><H3>XyTalk Portal</H3></TD>
	<TD><H3>XyTalk HTTP API</H3></TD>
  </TR>
  <TR>
	<TD width="25%">
	&nbsp;&nbsp;企业IM服务和客户端，提供完备的功能和使用体验，注重企业特性。
	</TD>
	<TD width="25%">
	&nbsp;&nbsp;企业特性的群组服务，团队沟通是IM产品的核心价值之一。</TD>
	<TD width="25%">
	&nbsp;&nbsp;一体化办公门户平台，提供网盘、会议管理、流程审批、内容管理等。</TD>
	<TD width="25%">
	&nbsp;&nbsp;为企业提供IM服务开发调用，提供安全可扩展的方式服务集成对接。</TD>
  </TR>
    <TR>
	<TD></TD>
	<TD></TD>
	<TD></TD>
	<TD></TD>
  </TR>
    <TR>
	<TD><img alt="XyTalk IM" src="http://111.230.157.216/img/sync-64.png" width="64" height="64" /></TD>
	<TD><img alt="XyTalk IM" src="http://111.230.157.216/img/file-64.png" width="64" height="64" /></TD>
	<TD><img alt="XyTalk IM" src="http://111.230.157.216/img/push-64.png" width="64" height="64" /></TD>
	<TD><img alt="XyTalk IM" src="http://111.230.157.216/img/client-64.png" width="64" height="64" /></TD>
  </TR>
  <TR>
	<TD><H3>XyTalk Sync</H3></TD>
	<TD><H3>XyTalk File Storage</H3></TD>
	<TD><H3>XyTalk Push</H3></TD>
	<TD><H3>XyTalk Full Client </H3></TD>
  </TR>
  <TR>
	<TD>
	&nbsp;&nbsp;利用企业原有的组织架构和登陆认证体系，组织架构同步、入职自动账户启用、离职即时清除等。</TD>
	<TD>
	&nbsp;&nbsp;企业文档库。个人、群组网盘。对海量存储需求还提供分布式文件系统。</TD>
	<TD>
	&nbsp;&nbsp;iOS APNS和安卓消息推送服务，用于离线消息的提醒。</TD>
	<TD>
	&nbsp;&nbsp;全栈客户端体系，包含Windows\android\iOS\Web\Linux。</TD>
  </TR>
 
  </TABLE>
<p>
<H2>## 功能   ##</H2>

  <TABLE width="100%">
  <TR>
	<Th>功能</Th>
	<Th>开源版</Th>
	<Th>基础企业版</Th>
  </TR>
  <TR>
	<Th>基础功能</Th>
	<Th></Th>
	<Th></Th>
  </TR>
  <TR>
	<TD>登陆。</TD>
	<TD>仅IM账户登陆</TD>
	<TD>IM账户、企业原HRM账号、OA账号、AD域账号登陆</TD>
  </TR>
  <TR>
	<TD>自动断线重连</TD
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>个人资料修改。头像,电话,邮件等</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>组织架构初始化工具</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>单聊、群聊消息</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>消息复制</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>消息推送。iOS APNS和安卓消息推送</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>消息撤回</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>消息转发</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>图片消息</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>文件消息</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>置顶会话</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>消息加密</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>离线消息</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>消息存档</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>消息搜索</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>截屏编辑</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>截屏传输及展示</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>表情</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>员工位置</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>短语音消息</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>短视频消息</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>离线文件</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>离线文件服务器程序</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>GB级大文件传输</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>最近联系人</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>联系人列表</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>联系人模糊搜索。按名称、缩拼、电话、部门</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>组织架构展示</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>联系人电子名片</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>同事二维码扫描添加</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>发起群聊</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>群组加人</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>群主踢人</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>群名称。可修改</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>群组公告</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>群组权限控制</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>群组离线消息</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>群发\广播信息。管理员可群发</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>单聊拖拽转多人会话</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>退出群</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>删除群</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>聊天记录备份\还原</TD>
	<TD>无</TD>
	<TD>已有</TD>
  </TR>
  <TR>
	<TD>系统设置</TD>
	<TD>无</TD>
	<TD>已有功能</TD>
  </TR>
  <TR>
	<TD>自动升级</TD>
	<TD>无</TD>
	<TD>已有功能</TD>
  </TR>
  <TR>
	<TD>类微信UI操作体验</TD>
	<TD>同企业版同步</TD>
	<TD>已有</TD>
  </TR>
    <TR>
	<Th>功能</Th>
	<Th>开源版</Th>
	<Th>高级企业版</Th>
  </TR>
    <TR>
	<Th>企业功能</Th>
	<Th></Th>
	<Th></Th>
  </TR>
  <TR>
	<TD>HTTP API。为企业提供IM服务调用:
	<br>OAuth2.0认证
	<br>SSO单点登陆接口
	<br>HTTP文件上传
	<br>HTTP文件下载
	<br>组织架构同步
	</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>登陆员工同步</TD>
	<TD>无</TD>
	<TD>需定制</TD>
  </TR>
  <TR>
	<TD>移动门户后台管理</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户Web消息</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户企业网盘</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户BPM工作流</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户会议预定</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户会议提醒</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户会议日历</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户会议记录</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户日程提醒、定时提醒</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户同事圈</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户通告</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户通讯录</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>移动门户电子投票</TD>
	<TD>无</TD>
	<TD>内置功能</TD>
  </TR>
  <TR>
	<TD>海量文件私有云分布式存储</TD>
	<TD>无</TD>
	<TD>资费另计</TD>
  </TR>
  <TR>
	<TD>集成邮件系统</TD>
	<TD>无</TD>
	<TD>资费另计</TD>
  </TR>
  <TR>
	<TD>企业LOGO定制</TD>
	<TD>无</TD>
	<TD>需定制</TD>
  </TR>
  <TR>
	<TD>企业原办公OA集成</TD>
	<TD>无</TD>
	<TD>需定制</TD>
  </TR>
  <TR>
	<TD>单点登陆集成</TD>
	<TD>无</TD>
	<TD>需定制</TD>
  </TR>
  <TR>
	<TD>电子考勤（GPS定位考勤）</TD>
	<TD>无</TD>
	<TD>需定制</TD>
  </TR>
  <TR>
	<TD>集成短信系统--移动电信联通</TD>
	<TD>无</TD>
	<TD>需定制</TD>
  </TR>
  <TR>
	<TD>集成短信系统--回复支持</TD>
	<TD>无</TD>
	<TD>需定制</TD>
  </TR>
  <TR>
	<TD>集成短信系统--群发支持</TD>
	<TD>无</TD>
	<TD>需定制</TD>
  </TR>
  <TR>
	<TD></TD>
	<TD></TD>
	<TD></TD>
  </TR>

  </TABLE>
  
<p>
<H2>## 技术相关 ##</H2>

<br>
<UL>
  <LI>开发语言：Java8
  <LI>通讯协议： XMPP（用于消息）、HTTP
  <LI>通讯Server： Tigase + Nginx + Kafka + Zookeeper，针对XMPP和企业业务我们做了部分定制，如离线文件、组织架构同步服务、企业集成登陆验证服务、消息同步、消息撤回、消息翻译、流程机器人等服务。同时支持Openfire和Tigase服务器
  <LI>OSGi service platform： Apache Felix
  <LI>WebServer Portal & API： Spring、Shiro、Activiti、Websocket 
  <LI>PC端UI： Java Awt/Swing（very low？知道intellij idea、Google Android Studio用什么开发的吗？）
  <LI>Swing皮肤：Darcula
  <LI>异步框架： Java8内置CompletableFuture、SwingWorker，原则是适合就好，不必过重
  <LI>缓存：客户端堆内缓存，服务器端Ehcache
  <LI>DB： MySQL（Server side）、SQLite（客户端）
  <LI>ORM：Mybatis
  <LI>日志库：logback、slf4j-log4j12
  <LI>其他客户端：Android、iOS、Web
</UL>
<p>
<br>
<H2>## 截图预览  ##</H2>
PC版会话界面:
<br>
<img alt="XyTalk IM" src="http://111.230.157.216/img/chat.png" />
PC版联系人界面:
<br>
<img alt="XyTalk IM" src="http://111.230.157.216/img/contactlist.png" />
PC版设置界面:
<br>
<img alt="XyTalk IM" src="http://111.230.157.216/img/contactsync.png" />
<br>
Android版界面:
<br>
iOS版界面:
<br>
后台管理界面:
<br>
<br>

<H2>## 更新日志 ##</H2>
2018-05-06以前没有记录了，从6号开始更新
<br>2018-05-06： 
<br>1、保存自身的Avater头像至XMPP服务端，并刷新用户MyInfoPanel区的头像
<br>2、刷新头像缓存；
<br>3、bugfix：修正SessionManager认证后UserCache.CurrentUserName的空值；
<p><br>2018-05-07： 
<br>1、smack换用4.2.4，替换调用代码
<br>2、bugfix：修正因chat state消息造成的未读消息UI错误
<p><br>2018-05-07： 
<br>1、Smack里的RoomInfo并没有管理员和拥有者信息，MucRoomInfo加入以进行成员的持久化
<br>2、mucInvitation增加判断条件
<br>3、mucInvitation增加收到邀请后的群组DB持久化
<p><br>2018-05-09： 
<br>1、bugfix：muc消息在当前聊天窗无刷新
<br>2、bugfix：muc离线消息重复的ui处理
<br>3、muc消息抵达的chatPanel处理
<p><br>2018-05-10： 
<br>1、縮減了發送消息的UI更新速度
<p><br>2018-05-11： 
<br>1、启动进行muc的订阅，对原xmpp muc的邀请模式进行自动化处理，抛弃原来发消息即邀请群成员的模式；
<br>2、创建muc群组
<p><br>2018-05-16： 
<br>1、roster禁用的情况下获取fulljid（用于si文件）
<br>2、在线文件发送
<br>3、在线文件接收
<p><br>2018-05-17： 
<br>1、XMPP 离线文件扩展
<br>2、和离线文件机器人交互，离线文件发送和接收
<p><br>2018-05-18： 
<br>1、和离线文件机器人交互逻辑开发，完成离线文件接收，UI更新，reciveJid伪装处理
<p><br>2018-05-22： 
<br>1、转为Maven项目
<br>2、图标拉伸处理更换为freeseawind/NinePatch
<br>3、自动断线重连
<br>4、左侧布局调整，使Insets更加合理
<p><br>2018-05-23： 
<br>1、整理MessageItem类
<br>2、头像从服务器的获取
<br>3、UI里的头像区域做了xmpp Avatar兼容，并且做了缓存、更新机制
<br>4、联系人资料里建立更多附加属性
<p><br>2018-05-24： 
<br>1、整理功能清单
<br>2、修正头像缓存的bug
<p><br>2018-05-25： 
<br>1、新增记住用户名和密码功能
<br>2、完善通讯录功能，显示部门、电话等信息
<p><br>2018-05-28： 
<br>1、新增记住用户名和密码功能
<br>2、完善通讯录功能，显示部门、电话等信息
<p><br>2018-05-30： 
<br>1、登陆账户切换
<br>2、设置里增加清除数据库功能
<p><br>2018-05-31： 
<br>1、通过通讯录或搜索发起新单聊会话
<p><br>2018-06-05： 
<br>1、通讯录键盘式卡片展示
<br>2、搜索框开始通讯录搜索设置为2字符起搜
<br>3、搜索项增加中文名展示
<br>4、增加KeyPair表，保存组织架构同步MaxID
<br>5、搜索改为异步
<br>6、搜索结果放置键盘焦点以供键盘切换操作
<p><br>2018-06-06： 
<br>1、联系人异步全量同步
<br>2、联系人json模拟生成
<p><br>2018-06-11： 
<br>1、修正了java.net.URL的空异常bug（联系人全量同步）
<br>2、用ApacheHttpClient替换java.net.URL的get方法
<p><br>2018-06-12： 
<br>1、断网离线登陆
<p><br>2018-06-12： 
<br>1、通过addSubscribeListener进行自动花名册处理，方便状态即席和SocketBytestreams文件收发.


<H2>## 联系作者     ##</H2>

如有合作意向、Bug、建议邮箱至475660@qq.com
<br>
QQ群：780461008
<br>
by XySoft team works
<br>

